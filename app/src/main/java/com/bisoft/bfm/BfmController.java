package com.bisoft.bfm;

import com.bisoft.bfm.dto.DatabaseStatus;
import com.bisoft.bfm.model.BfmContext;
import com.bisoft.bfm.model.PostgresqlServer;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import java.util.List;

@Controller
@RequestMapping("/bfm")
@RequiredArgsConstructor
public class BfmController {

    private final BfmContext bfmContext;

    @RequestMapping(path = "/status",method = RequestMethod.GET)
    public @ResponseBody
    List<PostgresqlServer> status(){
        return bfmContext.getPgList();
    }

    @RequestMapping(path = "/is-alive",method = RequestMethod.GET)
    public @ResponseBody String isAlive(){
        if(bfmContext.isMasterBfm() == true){
            return "Active";
        }
        return "Passive";
    }

    @RequestMapping(path = "/cluster-status",method = RequestMethod.GET)
    public @ResponseBody String clusterStatus(){
        String slaveServerAddresses = "";

        for(PostgresqlServer pg : this.bfmContext.getPgList()){
            if (pg.getStatus().equals(DatabaseStatus.SLAVE)){
                if (slaveServerAddresses.length() > 3){
                    slaveServerAddresses = slaveServerAddresses + " - ";    
                }

                slaveServerAddresses = slaveServerAddresses + pg.getServerAddress();
            }
        }

        String retval = "";
        retval = retval + "Cluster Status :"+this.bfmContext.getClusterStatus();
        retval = retval +"\n" + "Master Server Address :" + this.bfmContext.getMasterServer().getServerAddress();
        retval = retval +"\n" + "Slave Server Addresses :" + slaveServerAddresses;
        retval = retval + "\n";

        return retval;
    }

    @RequestMapping(path = "/clusterstatus.html",method = RequestMethod.GET)
    public @ResponseBody String clusterStatusHtml(){
        String slaveServerAddresses = "";

        for(PostgresqlServer pg : this.bfmContext.getPgList()){
            if (pg.getStatus().equals(DatabaseStatus.SLAVE)){
                if (slaveServerAddresses.length() > 3){
                    slaveServerAddresses = slaveServerAddresses + " - ";    
                }

                slaveServerAddresses = slaveServerAddresses + pg.getServerAddress();
            }
        }

        String retval = "<html><head>";
        retval = retval + "<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js\"></script>";
        retval = retval + "<link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\">";
        retval = retval + "</head><body class=\"bg-light bg-gradient\"><div class=\"container\">";
        retval = retval + "<div style=\"display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: flex-end; align-items: center; margin-right: 1% !important; margin-top: 1% !important; height: 100px;\">";        
        retval = retval + "<img src=\"data:image/jpeg;base64,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\">";
        retval = retval + "</div>";
        retval = retval + "<div class=\"d-flex flex-column align-items-center\"><div>";
        retval = retval + "<table class=\"table table-striped table-bordered table-hover\"><thead><th>Cluster Status</th><th>Master Address</th><th>Slave Server Addresses</th></thead>";
        retval = retval + "<tbody><tr>";
        retval = retval + "<td>"+this.bfmContext.getClusterStatus()+"</td>";
        retval = retval + "<td>"+this.bfmContext.getMasterServer().getServerAddress()+"</td>";
        retval = retval + "<td>"+slaveServerAddresses+"</td>";
        retval = retval + "</tr></tbody></table></div></div></div></body>";
        retval = retval + "</html>";
        return retval;
    }


}
